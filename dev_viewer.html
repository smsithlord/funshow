<!DOCTYPE html>
<html lang="en">
<head>
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover' />
    <meta charset='utf-8'>
    <title>FunShow</title>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #555;
            margin: 0;
            padding: 0;
            user-select: none;
            font-family: Arial, sans-serif;
        }
        body {
            background-position:  center center;
            background-size:  cover;
            background-repeat:  no-repeat;
            transition:  all 1s ease-in-out;
        }
    </style>
</head>
<body>
    <!-- SRC mode scripts -->
    <script src="src/thirdparty/jszip.min.js"></script>
    <script src="src/thirdparty/bundle.min.js"></script>
    <script src="src/shared/FunShowEventEmitter.js"></script>
    <script src="src/shared/FunShowEnvironmentDetector.js"></script>
    <!--script src="src/shared/FunShowSplash.js"></script-->
    <script src="src/shared/FunShowMediaLibraryDragAndDropBuilder.js"></script>
    <script src="src/builder/FunShowFilePacker.js"></script>
    <!--script src="src/builder/FunShowBuilder.js"></script-->
    <script src="src/viewer/FunShowHelpInput.js"></script>
    <script src="src/viewer/FunShowZoomPan.js"></script>
    <script src="src/viewer/FunShow.js"></script>
    <script src="src/viewer/FunShowSlide.js"></script>
    <script src="src/viewer/FunShowStage.js"></script>
    <script src="src/viewer/FunShowStagePanelPlaylist.js"></script>
    <script src="src/viewer/FunShowStagePanelToolbar.js"></script>



    <script src="swrapplet.js"></script>

    <!-- DIST mode scripts -->
    <!--script src="dist/thirdparty/jszip.min.js"></script>
    <script src="dist/thirdparty/bundle.min.js"></script>
    <script src="dist/funshow-shared.min.js"></script>
    <script src="dist/funshow-builder.min.js"></script>
    <script src="dist/funshow-viewer.min.js"></script-->


<script>
    document.addEventListener('DOMContentLoaded', onDOMContentLoaded);

        const swrapplet = new Swrapplet();
        console.log(swrapplet);
        
    async function onDOMContentLoaded() {

//swrapplet.toast("Hello, I'm a toast message!");
        return;


        let firstSlideshow = null;
        const slideshowUrlParams = await window.funShowEnvironment.getSlideshowUrlParams();

        if( slideshowUrlParams.s.value ) {
            firstSlideshow = slideshowUrlParams.s.value;
        }
        else if( slideshowUrlParams.j.value ) {
            firstSlideshow = slideshowUrlParams.j.value;
        }
        else if( slideshowUrlParams.m.value ) {
            await window.funShowEnvironment.startShow({mediaLibraryItems: [window.funShowEnvironment.createMediaItemFromMediaUrl(slideshowUrlParams.m.value)], enableUI: false, allowWorkingPath: false});
            return;
        }
        else if( slideshowUrlParams.ml.value ) {
            console.log(slideshowUrlParams.ml.value);
            const mediaUrls = slideshowUrlParams.ml.value;
            const items = [];
            mediaUrls.forEach(mediaUrl=>{
                items.push(window.funShowEnvironment.createMediaItemFromMediaUrl(mediaUrl));
            });
            await window.funShowEnvironment.startShow({mediaLibraryItems: items, enableUI: false, allowWorkingPath: false});
            return;
        }


        if( firstSlideshow ) {
            await window.funShowEnvironment.startShow({slideshow: firstSlideshow, enableUI: false, allowWorkingPath: false});
        }
        else {
            window.funShowEnvironment.startBlankViewer();
        }
    }
</script>

</body>
</html>
